# @meituan-nocode/vite-plugin-dev-logger

一个用于 Vite 开发服务器的日志插件，使用 `winston` 和 `winston-daily-rotate-file` 记录日志。可以记录 Vite DevServer 的请求日志、错误日志等信息。

## 安装

```bash
npm install @meituan-nocode/vite-plugin-dev-logger --save-dev
# 或者
yarn add @meituan-nocode/vite-plugin-dev-logger -D
# 或者
pnpm add @meituan-nocode/vite-plugin-dev-logger -D
```

### 使用方法

在 vite.config.ts 中配置：

```js
import { defineConfig } from 'vite';
import { devLogger } from '@meituan-nocode/vite-plugin-dev-logger';

export default defineConfig({
    plugins: [
        devLogger({
            filename: 'application-%DATE%.log', // 日志文件名
            dirname: 'logs', // 日志文件目录
            datePattern: 'YYYY-MM-DD', // 日期格式
            maxFiles: '7d', // 保留7天的日志文件
            maxSize: '10m', // 单个日志文件最大10MB
        }),
    ],
});
```

### 配置选项

devLogger 插件接受一个配置对象，支持以下选项：

- filename (string): 日志文件名，默认为 application-%DATE%.log。
- dirname (string): 日志文件目录，默认为当前工作目录下的 logs 文件夹。
- datePattern (string): 日期格式，默认为 YYYY-MM-DD。
- maxFiles (string): 保留的日志文件数量或天数，默认为 7d。
- maxSize (string): 单个日志文件的最大大小，默认为 10m。
